"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8868],{51443:function(e,t,n){n.r(t);var a,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EntryBodyGalleryTheVerge_component",selections:[{alias:null,args:null,concreteType:"EntryGallery",kind:"LinkedField",name:"gallery",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"EntryImage",kind:"LinkedField",name:"images",plural:!0,selections:[{alias:null,args:null,concreteType:"Asset",kind:"LinkedField",name:"asset",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hideCredit",storageKey:null},{alias:"main",args:[{kind:"Literal",name:"width",value:800}],kind:"ScalarField",name:"variantUrl",storageKey:"variantUrl(width:800)"},{alias:null,args:null,concreteType:"RichText",kind:"LinkedField",name:"caption",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"html",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichText",kind:"LinkedField",name:"credit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"plaintext",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"EntryBodyGallery",abstractKey:null};i.hash="b6e3488591438871526669fe779dc6b4",t.default=i},88868:function(e,t,n){n.r(t);var a=n(97458);n(52983);var i=n(61198),l=n(62047),s=n(69271);t.default=function(e){var t,r=(0,i.useFragment)(n(51443),e.component).gallery;return r?(r.images[0]&&(t=r.images[0].main),(0,a.jsx)(s.Z,{analyticsUrl:t||"",children:(0,a.jsx)(l.Z,{images:r.images,title:r.title,isStream:e.isStream})})):null}},62047:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(52071),i=n(88966),l=n(53520),s=n(97458),r=n(28934),c=n(52983),o=n(48979),u=n(32242),d=n(19421),p=n(20672),g=n(37782),m=function(e){var t=e.direction,n=e.handleClick,a=e.disabled,i=e.classes;return(0,s.jsx)("button",{disabled:void 0!==a&&a,className:(0,r.Z)("bg-gray-200 absolute disabled:pointer-events-none disabled:opacity-30",i),onClick:function(e){return n(e)},children:(0,s.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scale(".concat("left"===t?1:-1,")")},children:[(0,s.jsx)("title",{children:"left"===t?"Previous":"Next"}),(0,s.jsx)("circle",{r:"15.7789",transform:"matrix(-1 0 0 1 15.7787 15.7789)",fill:"#3CFFD0"}),(0,s.jsx)("path",{d:"M19.9576 22L9.95762 17.5V14.9L19.9576 10.4V12.2L12.1326 15.5C11.4326 15.8 11.1826 15.95 10.9576 16C10.8076 16.025 10.7076 16.05 10.7076 16.2C10.7076 16.35 10.8076 16.375 10.9576 16.4C11.1826 16.425 11.4326 16.6 12.1326 16.9L19.9576 20.2V22Z",fill:"black"})]})})},h=(0,g.n)(function(e){var t,n,g,h,v,f=(0,l._)((0,c.useState)(0),2),b=f[0],x=f[1],y=(0,c.useRef)(null),j=100/e.images.length,w=e.images.length-1,O=(null===(t=e.images[b])||void 0===t?void 0:t.hideCredit)?void 0:null===(g=e.images[b])||void 0===g?void 0:null===(n=g.credit)||void 0===n?void 0:n.plaintext,S=(0,o.QS)({onSwipedLeft:function(){x(function(e){return e===w?0:e+1})},onSwipedRight:function(){x(function(e){return 0===e?w:e-1})}}),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left";e.stopPropagation(),"left"===t?x(function(e){return 0===e?w:e-1}):x(function(e){return e===w?0:e+1})};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("section",{tabIndex:-1,"aria-label":"".concat(e.title," carousel"),className:(0,r.Z)(p.Z.ArticleGallery,"relative overflow-hidden outline-none",e.isAttachment?"my-10 w-full":"my-40 md:ml-0 md:w-full"),children:[(0,s.jsxs)("div",(0,i._)((0,a._)({className:(0,r.Z)("relative mb-10",e.compact&&"h-[221px] bg-[#232323] md:h-[296px]",e.aboveFold&&"h-[201px] bg-blurple-39 md:h-[416px]",!e.compact&&!e.aboveFold&&"h-[238px] bg-gray-ef md:h-[400px]")},S),{children:[e.images.map(function(e,t){var n;return e.asset&&e.main?(0,s.jsx)(d.Z,{objectFit:"contain",className:(0,r.Z)("relative top-1/2 mx-auto max-h-full max-w-full",b===t?"visible":"invisible"),src:e.main,alt:e.asset.title||(null===(n=e.caption)||void 0===n?void 0:n.html)||"",sizes:"(max-width: 1023px) 100vw, 744px"},e.asset.uid||t):null}),(0,s.jsx)(m,{direction:"left",handleClick:function(e){return k(e,"left")},classes:"top-1/2 h-[60px] w-[30px] p-[10px] -translate-y-1/2"}),(0,s.jsx)(m,{direction:"right",handleClick:function(e){return k(e,"right")},classes:"top-1/2 right-[25px] h-[60px] w-[30px] p-[10px] translate-y-[-50%]"})]})),(0,s.jsx)("div",{ref:y,className:(0,r.Z)("my-10 sm:px-0",e.isAttachment&&"p-0"),children:(0,s.jsx)("ul",{className:"flex space-x-[3px]",children:e.images.map(function(t,n){if(!t.asset)return null;var a="";return a=n===b?e.compact||e.aboveFold?"bg-gray-e9":"bg-black":e.compact?"bg-gray-4a":e.aboveFold?"bg-white/50":"bg-gray-cc",(0,s.jsx)("li",{style:{width:"".concat(j,"%")},className:(0,r.Z)("inline-block h-[2px]",a)},t.asset.uid)})})}),(0,s.jsxs)("div",{className:(0,r.Z)("leading-100 sm:px-0",e.isAttachment&&"p-0"),children:[(0,s.jsxs)("p",{className:(0,r.Z)("mr-8 inline pt-6 font-polysans-mono text-12 font-medium tracking-1 dark:text-gray-bd",(e.compact||e.aboveFold)&&!e.isEntryPage&&"text-gray-e9"),children:[b>w?1:b<0?w+1:b+1,"/",w+1]}),(0,s.jsx)(u.Z,{caption:null===(v=e.images[b])||void 0===v?void 0:null===(h=v.caption)||void 0===h?void 0:h.html,credit:O,className:"inline"})]})]})})},{context:"ArticleGalleryErrorBoundary"})},48979:function(e,t,n){n.d(t,{QS:function(){return o}});var a=n(52983);let i={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},l={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},s="mousemove",r="mouseup";function c(e,t){if(0===t)return e;let n=Math.PI/180*t,a=e[0]*Math.cos(n)+e[1]*Math.sin(n),i=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[a,i]}function o(e){var t,n,o;let u;let{trackMouse:d}=e,p=a.useRef(Object.assign({},l)),g=a.useRef(Object.assign({},i)),m=a.useRef(Object.assign({},g.current));for(u in m.current=Object.assign({},g.current),g.current=Object.assign(Object.assign({},i),e),i)void 0===g.current[u]&&(g.current[u]=i[u]);let[h,v]=a.useMemo(()=>(function(e,t){let n=t=>{let n="touches"in t;n&&t.touches.length>1||e((e,i)=>{i.trackMouse&&!n&&(document.addEventListener(s,a),document.addEventListener(r,d));let{clientX:o,clientY:u}=n?t.touches[0]:t,p=c([o,u],i.rotationAngle);return i.onTouchStartOrOnMouseDown&&i.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),l),{initial:p.slice(),xy:p,start:t.timeStamp||0})})},a=t=>{e((e,n)=>{let a="touches"in t;if(a&&t.touches.length>1)return e;if(t.timeStamp-e.start>n.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;let{clientX:l,clientY:s}=a?t.touches[0]:t,[r,o]=c([l,s],n.rotationAngle),u=r-e.xy[0],d=o-e.xy[1],p=Math.abs(u),g=Math.abs(d),m=(t.timeStamp||0)-e.start,h=Math.sqrt(p*p+g*g)/(m||1),v=[u/(m||1),d/(m||1)],f=p>g?u>0?"Right":"Left":d>0?"Down":"Up",b="number"==typeof n.delta?n.delta:n.delta[f.toLowerCase()]||i.delta;if(p<b&&g<b&&!e.swiping)return e;let x={absX:p,absY:g,deltaX:u,deltaY:d,dir:f,event:t,first:e.first,initial:e.initial,velocity:h,vxvy:v};x.first&&n.onSwipeStart&&n.onSwipeStart(x),n.onSwiping&&n.onSwiping(x);let y=!1;return(n.onSwiping||n.onSwiped||n[`onSwiped${f}`])&&(y=!0),y&&n.preventScrollOnSwipe&&n.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:x,swiping:!0})})},o=t=>{e((e,n)=>{let a;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<n.swipeDuration){a=Object.assign(Object.assign({},e.eventData),{event:t}),n.onSwiped&&n.onSwiped(a);let i=n[`onSwiped${a.dir}`];i&&i(a)}}else n.onTap&&n.onTap({event:t});return n.onTouchEndOrOnMouseUp&&n.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),l),{eventData:a})})},u=()=>{document.removeEventListener(s,a),document.removeEventListener(r,d)},d=e=>{u(),o(e)},p=(e,t)=>{let l=()=>{};if(e&&e.addEventListener){let s=Object.assign(Object.assign({},i.touchEventOptions),t.touchEventOptions),r=[["touchstart",n,s],["touchmove",a,Object.assign(Object.assign({},s),t.preventScrollOnSwipe?{passive:!1}:{})],["touchend",o,s]];r.forEach(([t,n,a])=>e.addEventListener(t,n,a)),l=()=>r.forEach(([t,n])=>e.removeEventListener(t,n))}return l},g={ref:t=>{null!==t&&e((e,n)=>{if(e.el===t)return e;let a={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),a.cleanUpTouch=void 0),n.trackTouch&&t&&(a.cleanUpTouch=p(t,n)),Object.assign(Object.assign(Object.assign({},e),{el:t}),a)})}};return t.trackMouse&&(g.onMouseDown=n),[g,p]})(e=>p.current=e(p.current,g.current),{trackMouse:d}),[d]);return p.current=(t=p.current,n=g.current,o=m.current,n.trackTouch&&t.el?t.cleanUpTouch?n.preventScrollOnSwipe!==o.preventScrollOnSwipe||n.touchEventOptions.passive!==o.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:v(t.el,n)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:v(t.el,n)}):(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0}))),h}}}]);